<!DOCTYPE html>
<html>
    <head>
        <title>[% title %]</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="[% common %]/base.css">
        [% # Include CSS file 'local.css' if it exists
           TRY %]
            [% USE File("local.css") %]
        <link rel="stylesheet" href="[% File.path %]">
        [% CATCH %]
        [% END %]
    </head>
    <body>
        <textarea id="source">
[% PROCESS content %]
        </textarea>
        <!-- <script src="[% common %]/remark-latest.min.js"></script> -->
        <script src="[% common %]/remark-git.min.js"></script>
        <script src="[% common %]/hljs.gdb.js"></script>
        <script src="[% common %]/hljs.makefile.js"></script>
        <script src="[% common %]/hljs.terminal.js"></script>
        <script src="[% common %]/remark.filename.js"></script>
        <script src="[% common %]/remark.newline.js"></script>
        <script src="[% common %]/remark.scale.js"></script>
        <script src="[% common %]/katex.min.js"></script>
        <script src="[% common %]/auto-render.min.js"></script>
        <link rel="stylesheet" href="[% common %]/katex.min.css">
        <script type="text/javascript">
            var options = {
                /* Default language for syntax highlighting */
                highlightLanguage: 'terminal',
                /* Highlight inline code (inside simple backticks) */
                highlightSpans: true,
                /* Mark lines marked with an asterix */
                highlightLines: true,
                /* Configure incremental slides */
                disableIncrementalSlides: [% incslides %],
                /* Disable counting incremental slides */
                countIncrementalSlides: false,
            };

            var renderMath = function() {
                renderMathInElement(document.body, { delimiters: [
                    {left: "$", right: "$", display: false},
                    {left: "\\(", right: "\\)", display: false},
                    {left: "$$", right: "$$", display: true},
                    {left: "\\[", right: "\\]", display: true},
                ]});
            }

            var slideshow = remark.create(options, renderMath);
        </script>
    </body>
</html>

